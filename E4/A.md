# 2024-妮妮与自来水厂

时间限制：1000 ms / 空间限制：65536 KB / 难度：3

## 题目描述

勤劳的妮妮入职了家边的自来水厂，入职后妮妮主要负责记录出水口的水流大小。

在水管分布图中，有 $n$ 个阀门和 $m$ 个单向管道，每个单向管道连接两个阀门，并且有各自的容量限制（即经过的水流不能超过该管道的最大容量）。妮妮想知道，在阀门 $s$ 放水时，阀门 $t$ 最大能接收到多大的水流。

形式化地说，给定 $n$ 个点 $m$ 条边的有向图，每条边有最大容量，求从点  $s$ 到点 $t$ 的最大流。

## 输入格式

第一行一个正整数 $T$（$1 \le T \le 10$），表示数据组数。

对于每组数据，第一行四个正整数 $n,m,s,t$（$1 \leq n \leq 100$，$1 \leq m\leq 5 \times 10^3$，$1 \le s,t \le n$），含义同题目描述。

接下来 $m$ 行，每行三个正整数 $u_i,v_i,w_i$（$1 \le u_i,v_i \le n$，$0 \leq w_i < 2^{31}$），表示第 $i$ 条有向边 $u_i \to v_i$ 的最大容量为 $w_i$。

图中有可能存在重边和自环。

## 输出格式

对于每组数据，输出一行一个非负整数，表示点 $s$ 到点 $t$ 的最大流。

## 输入样例

    1
    7 14 1 7
    1 2 5
    1 3 6
    1 4 5
    2 3 2
    2 5 3
    3 2 2
    3 4 3
    3 5 3
    3 6 7
    4 6 5
    5 6 1
    6 5 1
    5 7 8
    6 7 7

## 输出样例

    14

## Hint

网络流基本模型。

Ford-Fulkerson 算法的复杂度较高，且写法较长。我们推荐学习更高效，更好写的 Dinic 算法。这里有一些参考教程：

- [网络流详解: 从入门到放弃](https://blog.rvalue.moe/10650849/)
- [最大流 - OI Wiki](https://oi-wiki.org/graph/flow/max-flow/)

最终的期末考试中，我们不保证 Ford-Fulkerson 算法可以通过网络流相关题目。
